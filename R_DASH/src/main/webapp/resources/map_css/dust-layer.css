/* 전역: 한 번에 조절할 수 있는 오프셋 변수 */
:root {  --dust-offset-y: 195px;   /* 아이콘/말풍선 내려가는 값 */
  --dust-hud-offset-y: 110px; /* HUD 내려가는 값 */ }

/* ===== Dust Layer HUD ===== */
#dustHud {
  position: fixed;
  z-index: 10;
  display: none;
  /* top/right는 JS에서 지정 */
   transform: translateY(var(--dust-hud-offset-y)); /* ✅ HUD 전체 120px 아래 */
}

#dustHud .rfilter {
  width: 160px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
  /* ❌ top 지정하지 않음: 위치 지정은 부모(#dustHud)에서 처리 */
}

#dustHud .rfilter h4 { margin: 0 0 8px; font-size: 13px; }

#dustHud .flt {
  display: block; width: 100%;
  margin: 6px 0; padding: 6px 8px;
  font-size: 12px; border: 1px solid #eee;
  border-radius: 6px; background: #fff; color: #333;
  cursor: pointer;
  transition: box-shadow .15s, border-color .15s, background .15s, color .15s;
}
#dustHud .flt.active {
  border-color: #52c41a;
  box-shadow: 0 0 0 2px rgba(82,196,26,.25);
  background: #f6ffed; color: #135200; font-weight: 600;
}

/* ===== Mascot & Balloon ===== */
#dustMascot {
  position: fixed;
  width: 90px; height: auto; cursor: pointer;
  z-index: 11;
 filter: drop-shadow(0 3px 8px rgba(0,0,0,.15));
  transform: translateY(var(--dust-offset-y));  /* ✅ 아이콘도 같이 120px 아래 */
  /* top/right는 JS에서 지정 */
}

/* 말풍선 */
#dustBalloon {
  position: fixed; z-index: 13; display: block;
  transform: translateY(var(--dust-offset-y)); /* ✅ 말풍선도 같이 120px 아래 */
  /* top/right는 JS에서 지정 */
}

#dustBalloon .bubble {
  display: block; margin: 6px 0; padding: 6px 12px;
  background: #f9f2dd; color: #333; border-radius: 16px;
  font-size: 13px; font-weight: 500;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  border: 1px solid #e2d0a8; user-select: none; white-space: pre-line;
    max-width: 260px;        /* 너무 길어지지 않게 */
  line-height: 1.4;        /* 가독성 */
}
#dustBalloon .tail {
  position: absolute; right: -8px; top: 18px; width: 0; height: 0;
  border-left: 8px solid #ffe9d6;
  border-top: 6px solid transparent; border-bottom: 6px solid transparent;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.05));
}

/* ===== Legend ===== */
#dustLegend {
  position: fixed; right: 35px; bottom: 20px; z-index: 10;
  background: #fff; border: 1px solid #e5e5e5; border-radius: 10px;
  padding: 10px 12px; box-shadow: 0 6px 18px rgba(0,0,0,.08); font-size: 12px;
}
#dustLegend .bar {
  width: 200px; height: 10px; /* ✅ 오타(I) 제거 */
  border-radius: 5px; overflow: hidden; margin: 6px 0;
  background: linear-gradient(90deg,#edf8fb 0%,#c7ecea 25%,#b6e3b6 50%,#ffe28a 75%,#ffbf69 100%);
}
#dustLegend .scale {
  display: flex; justify-content: space-between; color: #666;
  font-variant-numeric: tabular-nums;
}


/* ===== Shelter 전용 위치 오버라이드 ===== */
body[data-layer="dust"] .layer-launcher {
  right: 40px !important;
  left: auto !important;
}
body[data-layer="dust"] #dustHud {
  right: 40px !important;
  left: auto !important;
}